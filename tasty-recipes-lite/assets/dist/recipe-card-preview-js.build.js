(()=>{const e=document.querySelector(".tasty-recipes"),t=function(){if(!e)return;const t=window.getComputedStyle(e),o=e.offsetHeight+parseInt(t.marginTop)+parseInt(t.marginBottom)+50;window.parent.postMessage(JSON.stringify({event:"setRecipeCardSize",height:o}),"*")};window.addEventListener("DOMContentLoaded",t),t(),window.addEventListener("DOMContentLoaded",()=>{!function(){if(!e)return;const o=e.getElementsByTagName("iframe"),r=e.getElementsByTagName("img");0===o.length&&0===r.length||(Array.from(o).forEach(e=>{e.addEventListener("load",t)}),Array.from(r).forEach(e=>{e.addEventListener("load",t)}))}();const o=document.querySelector(".tasty-recipes-pro-template img");o&&o.addEventListener("click",()=>{window.parent.postMessage(JSON.stringify({event:"proImageClicked"}),"*")})}),window.addEventListener("message",e=>{if(window.location.origin!==e.origin||"string"!=typeof e.data)return;const o=JSON.parse(e.data);if("updateCustomization"===o.event){const e=o.data;e.star_color||(e.star_color=e._starColorFallback||(e._starColorUsesDetailValue&&e.detail_value_color?e.detail_value_color:"#F2B955")),["star_color","button_color","button_text_color","primary_color","body_color","h3_color","detail_value_color","detail_label_color","icon_color"].forEach(t=>{const o="--tr-"+t.replaceAll("_","-");e[t]&&e[t].length?document.body.style.setProperty(o,e[t]):document.body.style.removeProperty(o)}),document.querySelectorAll("[data-tasty-recipes-customization]").forEach(t=>{t.dataset.tastyRecipesCustomization.split(" ").forEach(o=>{if(-1===o.indexOf("."))return;const r=o.split("."),n=r[0].replaceAll("-","_");void 0!==e[n]&&("innerText"!==r[1]?"innerHTML"!==r[1]?e[n].length?t.style.setProperty(r[1],e[n]):t.style.removeProperty(r[1]):t.innerHTML=e[n]:t.textContent=e[n])})}),t()}})})();